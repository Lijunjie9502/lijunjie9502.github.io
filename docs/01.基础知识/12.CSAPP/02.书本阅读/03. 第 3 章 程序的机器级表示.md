---
author: 
  name: 木子识时务
  link: https://github.com/sbwcwso
editLink: true
title:  第 3 章 程序的机器级表示
date: 2021-09-21 18:07:56
permalink: /pages/306a79/
categories: 
  - 
tags: 
  - 
---

# 程序的机器级表示

```markmap
- [程序的机器级表示](#程序的机器级表示)
  - [历史观点](#历史观点)
  - [程序编码](#程序编码)
    - [机器级代码](#机器级代码)
    - [代码示例](#代码示例)
    - [关于格式的注解](#关于格式的注解)
  - [数据格式](#数据格式)
  - [访问信息](#访问信息)
    - [操作数指标符](#操作数指标符)
    - [数据传送指令](#数据传送指令)
    - [数据传送示例](#数据传送示例)
    - [压入和弹出栈数据](#压入和弹出栈数据)
    - [算术和逻辑操作](#算术和逻辑操作)
    - [加载有效地址](#加载有效地址)
    - [一元操作和二元操作](#一元操作和二元操作)
    - [移位操作](#移位操作)
    - [讨论](#讨论)
    - [特殊的算术操作](#特殊的算术操作)
  - [控制](#控制)
    - [条件码](#条件码)
    - [访问条件码](#访问条件码)
    - [跳转指令](#跳转指令)
    - [跳转指令的编码](#跳转指令的编码)
    - [用条件控制来实现条件分支](#用条件控制来实现条件分支)
    - [用条件传送来实现条件分支](#用条件传送来实现条件分支)
```

## 历史观点

## 程序编码

### 机器级代码

### 代码示例

### 关于格式的注解

## 数据格式

::: tip
* Intel 用术语 "字(word)" 来表示 16 位数据类型，后缀用 `w` 来表示
* 32 位被看作 "长字(long word)"，因此后缀用 `l` 表示
* 64 位被称为 "四字 (quad words)"，因此后缀用 `q` 表示
:::


## 访问信息

::: details x86-64 的整数寄存器
![20210923154700-2021-09-23-15-47-00](https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210923154700-2021-09-23-15-47-00.png)
:::

### 操作数指标符

### 数据传送指令

### 数据传送示例

:::note
* C 中指针的间接引用 `*p` 既可以当左值，又可以当右值
  * 与汇编中内存地址，如 `(%rdi)`，即能当 `mov` 指令的 `Source`，又能当 `mov` 指令的 `Dest` 相对应
  * 当 `Source` 时，即为右值
  * 当 `Dest` 时，即为左值
  * > [左值和右值的含义](/pages/6183ad/#操作符的属性----优先级及结合性)
:::

### 压入和弹出栈数据

::: tip
`%rsp` 保存着栈顶元素的地址
:::


### 算术和逻辑操作

### 加载有效地址

### 一元操作和二元操作

### 移位操作

### 讨论

### 特殊的算术操作

::: tip
* `imulq` 根据操作数的数量，有两种不同的乘法指令，分别对应 64 位的乘法和 128 位的乘法
:::


## 控制

### 条件码

### 访问条件码

::: tip
* `cmp` 指令与 `test` 指令
* `test` 指令与 `and` 指令一样，但其只设置条件码而不改变目标寄存器的值
:::


### 跳转指令

### 跳转指令的编码

### 用条件控制来实现条件分支

::: question
* 示例汇编代码中 `%rip` 的含义
:::

::: danger
* 示例汇编代码中 `%rip` 的含义
:::

### 用条件传送来实现条件分支
