---
author: 
  name: 木子识时务
  link: https://github.com/sbwcwso
editLink: true
title: 输入输出系统概述
date: 2021-09-01 17:05:10
permalink: /pages/46a70d/
categories: 
  - 计算机组成原理
tags: 
  - 
---

# 输入输出系统概述

```markmap
- [输入输出系统概述](#输入输出系统概述)
  - [输入输出系统的发展概况](#输入输出系统的发展概况)
  - [输入输出系统的组成](#输入输出系统的组成)
    - [I/O 软件](#io-软件)
    - [I/O 硬件](#io-硬件)
  - [I/O 设备与主机的联系方式](#io-设备与主机的联系方式)
    - [I/O 设备编址方式](#io-设备编址方式)
    - [设备选址](#设备选址)
    - [note 传送方式](#note-传送方式)
    - [联络方式](#联络方式)
      - [立即响应](#立即响应)
      - [异步工作](#异步工作)
      - [同步工作](#同步工作)
    - [I/O 设备与主机的连接方式](#io-设备与主机的连接方式)
      - [辐射式连接(分散连接)](#辐射式连接分散连接)
      - [总线连接](#总线连接)
  - [IO 设备与主机信息传送的控制方式](#io-设备与主机信息传送的控制方式)
    - [程序查询方式](#程序查询方式)
    - [程序中断方式](#程序中断方式)
    - [DMA 方式](#dma-方式)
    - [三种方式 CPU 工作效率比较](#三种方式-cpu-工作效率比较)
```

## 输入输出系统的发展概况

:::note 早期
* 分散连接
* CPU 和 I/O 设备
  * **串行**工作
  * 程序查询方式
:::

::: note 接口模块和 DMA 阶段
* 总线连接
* CPU 和 I/O 设备
  * **并行**工作
    * 中断方式
    * DMA 方式
:::

::: note 具有通道结构的 I/O 阶段
* 通道可能看作一个小型的处理器
  * 可以执行通道程序，可以控制连接在通道上的 I/O 设备和 CPU 之间的直接通信
:::

::: note 具有 I/O 处理机的阶段
* I/O 处理机可以用现代的微处理器
:::

* 外部设备的独立性越来越强

## 输入输出系统的组成

### I/O 软件

:::note I/O 指令
* CPU 指令的一部分
:::

::: note 通道指令
* 通道自身的指令
* 指出数组的首地址、传送字数、操作命令
* 如 IBM/370 通道指令为 64 位
:::

### I/O 硬件

* 设备 I/O 接口
* 设备  设备控制器 通道

## I/O 设备与主机的联系方式

### I/O 设备编址方式

* 统一编址
  * 用取数、存数指令
  * CPU 的指令集相对简单
* 不统一编址
  * 有专门的 I/O 指令

### 设备选址

* 用**设备选择电路**识别是否被选中

### note 传送方式

* 串行
  * 适合远程传输
* 并行

### 联络方式

#### 立即响应

#### 异步工作

* 采用应答信号

#### 同步工作

* 采用同步时标

### I/O 设备与主机的连接方式

#### 辐射式连接(分散连接)

* 不便于增删设备

#### 总线连接

* 便于增删设备

## IO 设备与主机信息传送的控制方式

### 程序查询方式

![20210904080816-2021-09-04-08-08-16](https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210904080816-2021-09-04-08-08-16.png)

* CPU 和 I/O 串行工作
  * 踏步等待
    * 在等待设备准备时
    * 在设备准备数据时

### 程序中断方式

* I/O 工作的阶段
  * 自身准备
    * CPU 不查询
  * 与主机交换信息
    * CPU 暂停现行程序

* 没有踏步等待现象
* 程序中断方式流程
  * ![20210904081439-2021-09-04-08-14-39](https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210904081439-2021-09-04-08-14-39.png)

* 传输过程中仍然需要 CPU 的参与
* 中断时要保存现场，恢复时要恢复现场
  * 通过指令完成，需要相应的时间

* 先把数据读入 CPU，CPU 再将数据写入内存

### DMA 方式

* 主存和 I/O 之间有一条直接数据通道
* 不中断现行程序
* 周期挪用(周期窃取)
  * DMA 准备好数据后，发出数据传输请求，占用总线
    * CPU 不能使用系统总线，不能进行访存操作
    * 但在这个过程中 CPU 仍能借助指令缓冲中的指令和数据缓冲中的数据，继续运行

### 三种方式 CPU 工作效率比较

![20210904082941-2021-09-04-08-29-41](https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210904082941-2021-09-04-08-29-41.png)

* I/O 系统的自治能力越来越强
