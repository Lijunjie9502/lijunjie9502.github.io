---
title: 计算机网络性能
date: 2021-07-21 09:56:57
permalink: /pages/68a5a9/
categories: 
  - 网络
tags: 
  - 网络性能
author: 
  name: 木子识时务
  link: https://github.com/sbwcwso
editLink: true
---

# 计算机网络的性能

::: details 课件
<iframe :src="$withBase('/pdf/计算机网络/L08计算机网络性能-01.pdf')" width="100%" height="600"></iframe>
<iframe :src="$withBase('/pdf/计算机网络/L08计算机网络性能-02.pdf')" width="100%" height="600"></iframe>
:::



```markmap
- [计算机网络的性能](#计算机网络的性能)
  - [速率](#速率)
  - [带宽](#带宽)
  - [延迟/时延](#延迟时延)
    - [排队](#排队)
    - [四种分组延迟](#四种分组延迟)
      - [结点处理延迟](#结点处理延迟)
      - [排队延迟](#排队延迟)
        - [流量强度](#流量强度)
        - [平均排队时延与流量强度的关系](#平均排队时延与流量强度的关系)
      - [传输延迟](#传输延迟)
      - [传播延迟](#传播延迟)
    - [时延带宽积](#时延带宽积)
  - [分组丢失(丢包)](#分组丢失丢包)
  - [吞吐量](#吞吐量)
```

## 速率


::: details <mark>速率</mark>即<mark>数据率</mark>(data rate)或称<mark>数据传输速率</mark>或<mark>比特率</mark>(bit rate)
* 单位时间（秒）传输信息（比特）量
* 计算机网络中最重要的一个性能指标
<!-- TODO 替换公式时最后一个字符不生效的问题 -->
* 单位： $b/s$ （或 $bps$ ）、 $kb/s$ 、 $Mb/s$ 、$Gb/s$
* $K=10^3, M=10^6, G=10^9$
:::


::: tip 速率往往是指<mark>额定速率</mark>或<mark>标称速率</mark>
:::


## 带宽


::: tip “带宽”(bandwidth)原本指信号具有的频带宽度，即最高频率与最低频率之差，单位是赫兹（Hz）
:::

:::note 网络的“带宽”通常是数字信道所能传送的“最高数据率”，单位：b/s (bps)
:::

:::details 常用的带宽单位
* $kb/s$ （$10^3 b/s$）
* $Mb/s$（$10^6 b/s$）
* $Gb/s$（$10^9 b/s$）
* $Tb/s$（$10^{12} b/s$）
:::

## 延迟/时延

### 排队


::: note 分组交换发生时延和丢包的原因
* 当分组**到达速率超出输出链路容量**时， 分组会在路由器缓存中**排队**，等待输出链路可用， 从而产生**时延**
* 可用缓存是有限的，如果**缓存满**，到达的**分组会被丢弃**，从而产生**丢包**
::: details 图示
![20210725025327-2021-07-25-02-53-27](https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210725025327-2021-07-25-02-53-27.png)
:::

结点处理

一跳的时间延迟,四种延迟组成

### 四种分组延迟

::: details 图示
![20210725030017-2021-07-25-03-00-17](https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210725030017-2021-07-25-03-00-17.png)
:::


#### 结点处理延迟

* 结点处理延迟（nodal processing delay） $d_{proc}$
* 产生原因
  * 差错检测
  * 确定输出链路
* 通常 $< msec$

#### 排队延迟

* 等待输出链路可用
* 取决于路由器的拥塞程度
* 时间不确定

##### 流量强度


::: theorem 定义
$$\text{流量强度（traffic intensity）} = \frac{La}{R}$$
* 其中：
  * $R$: 链路带宽(bps)
  * $L$: 分组长度 (bits)
  * $a$: 平均分组到达速率
:::

##### 平均排队时延与流量强度的关系

* $La/R \approx 0$: 平均排队延迟很小
* $La/R \rightarrow 1$: 平均排队延迟很大
* $La/R > 1$: 超出服务能力，平均排队延迟无限大

::: details 示意图
![20210725033143-2021-07-25-03-31-43](https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210725033143-2021-07-25-03-31-43.png)
![20210725033156-2021-07-25-03-31-56](https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210725033156-2021-07-25-03-31-56.png)
:::

#### 传输延迟

* 传输延迟为分组通过路由器的时间

::: theorem 计算公式
$$d_{trans}=L/R$$
* 其中：
  * $L$: 分组长度(bits)
  * $R$: 链路带宽(bps)
:::

#### 传播延迟

* 传播延迟为分组通过物理链路的时间

::: theorem 计算公式
$$d_{prop}=d/s$$
* 其中：
  * $d$: 物理链路的长度
  * $s$: 信号传播的速度 ($\approx 2 \times 10^8 m/sec$)
:::

### 时延带宽积

<!-- TODO Latex 公式居中对齐:https://blog.csdn.net/yanxiangtianji/article/details/17583723 -->
$$\begin{aligned}
\text{时延带宽积} &= \text{传播时延} \times \text{带宽} \\
                &= d_{prop} \times R (bits)
\end{aligned}$$

::: tip 链路的时延带宽积又称为以比特为单位的链路长度
:::

## 分组丢失(丢包)

* 队列缓存容量有限, 分组到达已满队列将被丢弃 (即丢包)
  * 丢弃分组可能由前序结点或源重发（也可能不重发）
  ::: details 示意图
  ![20210725034802-2021-07-25-03-48-02](https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210725034802-2021-07-25-03-48-02.png)
  :::
  
$$\text{丢包率} =\frac{\text{丢包数}}{\text{已发分组总数}}$$

## 吞吐量

* 吞吐量 :表示在发送端与接收端之间传送数据速率 (b/s)
  * 即时吞吐量: 给定时刻的速率
  * 平均吞吐量 : 一段时间的平均速率
  ::: details 图示
  ![20210725035041-2021-07-25-03-50-41](https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210725035041-2021-07-25-03-50-41.png)
  :::
  
:::details 端到端的网络吞吐量往往取决于瓶颈链路
* 瓶颈链路即为吞吐量最小的链路
* 示例
  * ![20210725035158-2021-07-25-03-51-58](https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210725035158-2021-07-25-03-51-58.png)
    * 图中的 $R_c$ 或 $R_s$ 通常是瓶颈
:::
