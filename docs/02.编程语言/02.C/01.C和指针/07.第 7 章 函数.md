---
author: 
  name: 木子识时务
  link: https://github.com/sbwcwso
editLink: true
title: 第 7 章 函数
date: 2021-09-05 17:30:57
permalink: /pages/f939f7/
categories: 
  - C和指针
tags: 
  - c
---

# 第 7 章 函数


```markmap
- [第 7 章 函数](#第-7-章-函数)
  - [函数的定义](#函数的定义)
    - [return 语句](#return-语句)
  - [函数声明](#函数声明)
    - [原型](#原型)
    - [函数的缺省定义](#函数的缺省定义)
  - [函数的参数](#函数的参数)
  - [ADT 和黑盒](#adt-和黑盒)
  - [递归](#递归)
    - [追踪递归函数](#追踪递归函数)
    - [递归与迭代](#递归与迭代)
  - [可变参数列表](#可变参数列表)
    - [stdarg 宏](#stdarg-宏)
    - [可变参数的限制](#可变参数的限制)
  - [总结](#总结)
  - [问题](#问题)
  - [编程练习](#编程练习)
```

## 函数的定义

::: details 书本内容
![20210915072444-2021-09-15-07-24-44](https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210915072444-2021-09-15-07-24-44.png)
:::

### return 语句

::: details 书本内容
![7-1-1-2021-09-15-07-41-46](https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/7-1-1-2021-09-15-07-41-46.png)
:::

## 函数声明

::: details 书本内容
![7-2-2021-09-15-08-14-41](https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/7-2-2021-09-15-08-14-41.png)
:::

### 原型

::: details 书本内容
![7-2-1-2021-09-15-08-12-11](https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/7-2-1-2021-09-15-08-12-11.png)
:::


### 函数的缺省定义

::: details 书本内容
![7-2-2-2021-09-15-12-23-13](https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/7-2-2-2021-09-15-12-23-13.png)
:::

::: tip
* 示例中的例子在当前编译器 `gcc 9.3.0` 很难得出类似的结果
:::


## 函数的参数

::: details 书本内容
![7-3-2021-09-15-12-24-39](https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/7-3-2021-09-15-12-24-39.png)
:::

## ADT 和黑盒

::: details 书本内容
![7-4-2021-09-15-12-26-33](https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/7-4-2021-09-15-12-26-33.png)
:::

## 递归

::: details 书本内容
![7-5-2021-09-15-12-27-40](https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/7-5-2021-09-15-12-27-40.png)
:::

### 追踪递归函数

::: details 书本内容
![7-5-1-2021-09-15-12-30-06](https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/7-5-1-2021-09-15-12-30-06.png)
:::

### 递归与迭代

::: details 书本内容
![7-5-2-2021-09-15-12-31-31](https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/7-5-2-2021-09-15-12-31-31.png)
:::

## 可变参数列表

::: details 书本内容
![7-6-2021-09-15-12-35-07](https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/7-6-2021-09-15-12-35-07.png)
:::

### stdarg 宏

::: details 书本内容
![7-6-1-2021-09-15-12-36-02](https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/7-6-1-2021-09-15-12-36-02.png)
:::

### 可变参数的限制

::: details 书本内容
![7-6-2-2021-09-15-12-38-39](https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/7-6-2-2021-09-15-12-38-39.png)
:::

## 总结

::: details 书本内容
![7-7-2021-09-15-12-39-17](https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/7-7-2021-09-15-12-39-17.png)
:::

## 问题

<br>
<h6 id='q1' class='anchor-user-defined'>
<a href='#q1' class='header-anchor'>#</a>
</h6>

:::note 问题 1
具有空函数体的函数可以作为存根使用。你如何对这类函数进行修改，使其更加有用？
:::details 答案
* 当存根被调用时，打印一条消息，显示该函数被调用
* 也可以打印作为参数传递给它的值
:::


<h6 id='q2' class='anchor-user-defined'>
<a href='#q2' class='header-anchor'>#</a>
</h6>

:::note 问题 2
在ANSI C中，函数的原型并非必需。请问这个规定是优点还是缺点？
:::details 答案
* 唯一的优点只是可以少写一些代码
  * 当函数定义和函数的调用者位于一个文件内，且函数定义出现在函数调用之前时，省略原型没有任何问题
* 缺点就是编译器可能无法得到函数的返回值的参数信息，当函数的定义没有出现在函数调用之前时，其会默认函数的返回值是 `int` 类型
  * 由此会导致各种难以预测的问题
:::


## 编程练习
